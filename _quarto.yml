project:
  type: website
  output-dir: docs
  resources:
    - "images/**"
    - "translations.js"

website:
  title: "OLES - Observatorio de Legitimidad"
  favicon: "images/logos/favicon.png"
  navbar:
    background: white
    foreground: "#453958"
    left:
      - text: "Inicio"
        href: index.qmd
      - text: "Noticias"
        href: noticias/index.qmd
      - text: "InvestigaciÃ³n"
        menu:
          - text: "ğŸ“‹ Todos los Estudios"
            href: estudios/index.qmd
          - text: "---"
          - text: "ğŸ“Š Encuestas"
            href: estudios/index.qmd#encuestas
          - text: "ğŸ™ï¸ Cualitativos"
            href: estudios/index.qmd#cualitativos
          - text: "ğŸ“° Prensa y Redes"
            href: estudios/index.qmd#prensa-redes
          - text: "ğŸ“ˆ Datos Administrativos"
            href: estudios/index.qmd#datos-administrativos
          - text: "---"
          - text: "ğŸ“š Publicaciones AcadÃ©micas"
            href: publicaciones/index.qmd
      - text: "Eventos"
        href: eventos/index.qmd
      - text: "Equipo"
        href: equipo/index.qmd
      - text: "Contacto"
        href: contacto.qmd

format:
  html:
    theme:
      light: flatly
    css: styles.css
    toc: false
    page-layout: full
    include-in-header:
      - text: |
          <script src="/translations.js" defer></script>
    include-after-body:
      - text: |
          <div class="language-selector" id="lang-selector">
            <button class="language-btn active" data-lang="es">
              <span class="flag">ğŸ‡¨ğŸ‡±</span>
              <span class="lang-code">ESP</span>
            </button>
            <button class="language-btn" data-lang="en">
              <span class="flag">ğŸ‡¬ğŸ‡§</span>
              <span class="lang-code">ENG</span>
            </button>
          </div>
          <script>
            // Mover selector de idioma al navbar
            document.addEventListener('DOMContentLoaded', function() {
              const langSelector = document.getElementById('lang-selector');
              const navbar = document.querySelector('.navbar-nav');
              if (langSelector && navbar) {
                navbar.parentNode.insertBefore(langSelector, navbar.nextSibling);
              }
            });
          </script>

execute:
  echo: false
  warning: false
  message: false
